# Airtable Schema for Dynamic_Content_Test Table

## Table: Dynamic_Content_Test

This table stores weather-based educational content generated by the n8n pipeline POC.

### Field Definitions

| Field Name | Field Type | Description | Example |
|------------|------------|-------------|---------|
| **record_id** | Autonumber | Auto-generated unique ID | 1, 2, 3... |
| **location** | Single line text | City name | "Toronto", "Vancouver" |
| **temperature** | Number | Temperature in Celsius | 5, -10, 22 |
| **condition** | Single line text | Weather condition | "Partly Cloudy", "Snowing" |
| **raw_weather** | Long text | JSON of raw weather data | `{"temp": 5, "condition": "Partly Cloudy", "humidity": 65}` |
| **enriched_content** | Long text | AI-generated educational explanation | "It's 5°C and partly cloudy in Toronto! When clouds partially block the sun..." |
| **science_connection** | Long text | Connection to Grade 4 science curriculum | "Light travels in straight lines - we can see this when sunbeams peek through clouds" |
| **activity_suggestion** | Long text | Hands-on activity idea | "Go outside and observe how shadows change when clouds move across the sun" |
| **fun_fact** | Long text | Canadian weather fact | "Toronto gets about 2,066 hours of sunshine per year!" |
| **vocabulary_word** | Long text | Science vocabulary with definition | "Temperature: a measure of how hot or cold something is" |
| **workflow_version** | Single line text | Version of the n8n workflow | "mvp-v1.0" |
| **pipeline_timestamp** | Date and time | When the data was processed | 2024-01-15 14:30:00 |
| **created_at** | Created time | Auto-generated creation time | (automatic) |
| **updated_at** | Last modified time | Auto-generated update time | (automatic) |

### How to Create in Airtable

1. **Log into Airtable** and navigate to your existing base
2. **Create a new table** called `Dynamic_Content_Test`
3. **Add fields** one by one using the types specified above
4. **Set field options**:
   - For `temperature`: Set number format to decimal with 1 decimal place
   - For `pipeline_timestamp`: Use ISO format (YYYY-MM-DD HH:mm:ss)
   - For long text fields: Enable rich text formatting

### Sample Data

```json
{
  "location": "Toronto",
  "temperature": 5,
  "condition": "Partly Cloudy",
  "raw_weather": "{\"temp\": 5, \"condition\": \"Partly Cloudy\", \"humidity\": 65, \"wind\": \"W 15 km/h\"}",
  "enriched_content": "It's 5°C and partly cloudy in Toronto today! That's about as cold as the inside of your refrigerator. The clouds are like a cozy blanket in the sky, keeping some warmth close to the ground.",
  "science_connection": "When light from the sun hits the clouds, some of it bounces back to space (reflection) and some passes through (transmission). This is why it's not as bright on cloudy days!",
  "activity_suggestion": "Make a cloud in a jar! Put hot water in a jar, place ice on the lid, and watch water vapour condense into tiny cloud droplets - just like real clouds form in the sky!",
  "fun_fact": "Toronto once had a snowfall of 48.3 cm in a single day - that's taller than most Grade 4 students!",
  "vocabulary_word": "Condensation: when water vapour in the air turns into tiny water droplets",
  "workflow_version": "mvp-v1.0",
  "pipeline_timestamp": "2024-01-15T14:30:00Z"
}
```

### API Access

To access this table via API:
- Base ID: Use your existing base ID from `.env`
- Table Name: `Dynamic_Content_Test`
- API Key: Use your existing Airtable Personal Access Token

### Monitoring Fields

Consider adding these fields later for production:
- `error_count`: Number of processing errors
- `retry_count`: Number of retry attempts
- `processing_time_ms`: Time taken to process
- `data_source`: Which weather API was used
- `ai_model`: Which AI model generated content